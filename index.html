/* Plugin Name: Jewelry Master Customizer
Description: חריטה דו-צדדית, אימוג'ים והעלאת תמונות
*/

add_action( 'woocommerce_before_add_to_cart_button', 'jmc_render_customizer' );
function jmc_render_customizer() {
    ?>
    <div id="jewelry-designer-app">
        <div class="side-switcher">
            <button type="button" onclick="switchSide('front')">צד קדמי</button>
            <button type="button" onclick="switchSide('back')">צד אחורי</button>
        </div>

        <div class="canvas-wrapper" style="position:relative; background: #eee;">
            <canvas id="jewelry-canvas" width="300" height="300"></canvas>
        </div>

        <div class="toolbar">
            <button type="button" onclick="addText()">➕ הוסף טקסט</button>
            <button type="button" onclick="addEmoji('❤️')">❤️</button>
            <button type="button" onclick="addEmoji('⭐')">⭐</button>
            <input type="file" id="imageLoader" title="העלה תמונה" accept="image/*">
        </div>
        
        <input type="hidden" name="custom_design_data" id="custom_design_data">
    </div>
    
    <script src="https://cdnjs.cloudflare.com/ajax/libs/fabric.js/5.3.1/fabric.min.js"></script>
    <?php
}
